<h2>Sign up</h2>
<div data-controller="parent">

  <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
    <%= f.error_notification %>

    <div class="form-inputs">
      <%= f.input :nickname,
                  required: true,
                  input_html: { autocomplete: "nickname" } %>
      <%= f.input :email,
                  required: true,
                  autofocus: true,
                  input_html: { autocomplete: "email" }%>
      <%= f.input :password,
                  required: true,
                  hint: ("#{@minimum_password_length} characters minimum" if @minimum_password_length),
                  input_html: { autocomplete: "new-password" } %>
      <%= f.input :password_confirmation,
                  required: true,
                  input_html: { autocomplete: "new-password" } %>
    <div  data-parent-target="sportInput">
      <%= f.input :category_sport,
                  required: true,
                  input_html: { autocomplete: "category sport", min: '0', max: '2' } %>
    </div>
    <div data-parent-target="businessInput">
      <%= f.input :category_business,
                  required: true,
                  input_html: { autocomplete: "category business", min: '0', max: '2' } %>
    </div>
    <div data-parent-target="hobbyInput">
      <%= f.input :category_hobby,
                  required: true,
                  input_html: { autocomplete: "category hobby", min: '0', max: '2' } %>
    </div>
    <div data-parent-target="healthInput">
      <%= f.input :category_health,
                  required: true,
                  input_html: { autocomplete: "category health", min: '0', max: '2' } %>
    </div>
    </div>

    <div class="form-actions">
      <%= f.button :submit, "Sign up"  %>
    </div>
  <% end %>

  <%= render "devise/shared/links" %>

  <hr>

  <% YAML.load_file('data/questions.yml').each do |question| %>
    <hr>

    <div data-controller="enfant" data-enfant-category-value="<%= question["category"] %>" data-action="yes->parent#addCategory no->parent#next">
      <%= question["name"] %> - <%= question["category"] %>

      <span data-action="click->enfant#yes">Oui</span>
      -
      <span data-action="click->enfant#no">Non</span>
    </div>
  <% end %>

</div>
